{"version":3,"sources":["images/dogs.jpg","routes/AdoptionPage.js","components/Header.js","routes/LandingPage.js","config.js","components/Pet.js","components/Root.js","index.js"],"names":["module","exports","interval","Header","className","LandingPage","props","src","require","alt","onClick","e","preventDefault","history","push","REACT_APP_API_BASE","process","Pet","age","breed","description","gender","imageURL","name","story","whichPet","frontOfLine","handleAdopt","AdoptionPage","state","people","cat","dog","adopter","adopted","error","fetchPeopleQueue","fetch","config","API_ENDPOINT","then","res","json","setState","catch","fetchAdoptablePets","console","log","handleJoinQueue","a","length","target","adopt","value","method","headers","body","JSON","stringify","setInterval","adoptPet","clearInterval","type","newPeople","shift","handleClearInterval","this","peopleLine","map","person","i","key","includes","findIndex","onSubmit","hidden","id","htmlFor","React","Component","Root","exact","path","component","handleCongratulations","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.354262fa.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/dogs.0e7c393f.jpg\";","import React from 'react'\r\nimport config from '../config'\r\nimport Pet from '../components/Pet'\r\n\r\nlet interval\r\n\r\nclass AdoptionPage extends React.Component{\r\n  state = {\r\n    people:[],\r\n    cat:null,\r\n    dog:null,\r\n    adopter:null,\r\n    adopted:null,\r\n    frontOfLine:false,\r\n    error:null,\r\n  }\r\n\r\n  fetchPeopleQueue = () => {\r\n    fetch(`${config.API_ENDPOINT}/people`)\r\n    .then(res => res.json())\r\n    .then(res => this.setState({people: res}))\r\n    .catch(e => this.setState({error:e}))\r\n  }\r\n  \r\n  fetchAdoptablePets = () => {\r\n    fetch(`${config.API_ENDPOINT}/pets`)\r\n    .then(res => res.json())\r\n    .then(res => {\r\n      console.log(res)\r\n      this.setState({cat: res[0],dog:res[1]})\r\n    })\r\n    .catch(e => this.setState({error:e}))\r\n  }\r\n\r\n  handleJoinQueue = async (e) => {\r\n    e.preventDefault()\r\n\r\n    if(this.state.people.length === 0){\r\n      await this.fetchPeopleQueue()\r\n    }\r\n    \r\n    const name = e.target.adopt.value\r\n    \r\n      fetch(`${config.API_ENDPOINT}/people`,{\r\n        method: 'POST',\r\n        headers: {\r\n          'content-type':'application/json',\r\n        },\r\n        body:JSON.stringify({\r\n          name:name\r\n        })\r\n      })\r\n      .then(res => res.json())\r\n      .then(() => {\r\n        this.setState({adopter: name, people: [...this.state.people,name]},() => {interval = setInterval(() => this.adoptPet(),5000)})\r\n      })\r\n      .then(() => {\r\n        if(this.state.adopter === this.state.people[0]){\r\n          clearInterval(interval)\r\n          this.setState({frontOfLine:true})\r\n        }\r\n      })      \r\n      .catch(e => this.setState({error:e}))\r\n  }\r\n\r\n  adoptPet = (type=null) => {\r\n    //CLEAR INTERVAL IF FRONT OF LINE\r\n    if(this.state.people[0] === this.state.adopter || this.state.people.length === 0){\r\n      clearInterval(interval)\r\n      if(this.state.people[0] === this.state.adopter){\r\n        this.setState({frontOfLine:true})\r\n      }\r\n    }else{    \r\n      switch(type){\r\n        case 'cat':\r\n          this.handleAdopt('cat')          \r\n          break;\r\n        case 'dog':\r\n          this.handleAdopt('dog')\r\n          break;\r\n        default:\r\n          this.handleAdopt('dog')  \r\n      }\r\n    }\r\n  }\r\n\r\n  handleAdopt = (whichPet) => {\r\n      fetch(`${config.API_ENDPOINT}/pets`,{\r\n        method: 'DELETE',\r\n        headers: {\r\n          'content-type':'application/json',\r\n        },\r\n        body:JSON.stringify({\r\n          name:this.state.people[0],\r\n          whichPet\r\n        })\r\n      })\r\n      .then(() => {\r\n        if(this.state.people[0] === this.state.adopter){\r\n          this.setState({adopted:this.state[whichPet]})\r\n        }\r\n        let newPeople = this.state.people\r\n        newPeople.shift()\r\n\r\n        fetch(`${config.API_ENDPOINT}/pets`)\r\n        .then(res => res.json())\r\n        //CLEAR INTERVAL IF FRONT OF LINE\r\n        .then(res => (newPeople[0] === this.state.adopter)        \r\n        ?this.handleClearInterval(res,newPeople)\r\n        :this.setState({cat:res[0],dog:res[1],people:newPeople,frontOfLine:false}))\r\n        .catch(e => this.setState({error:e}))\r\n      })      \r\n      .catch(e => this.setState({error:e}))\r\n  }\r\n\r\n  handleClearInterval = (res,newPeople) => {\r\n    // console.log('STOPPING')\r\n    clearInterval(interval)\r\n    this.setState({cat:res[0],dog:res[1],people:newPeople,frontOfLine:true})\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchPeopleQueue()  \r\n    this.fetchAdoptablePets()\r\n  }\r\n\r\n  render(){    \r\n    // console.log('people',this.state.people, 'pets',this.state.cat, this.state.dog)        \r\n    let peopleLine\r\n    (this.state.people.length > 0)\r\n    ?peopleLine = this.state.people.map((person,i) => <li key={i}>{person}</li>)\r\n    :peopleLine = {}\r\n    // console.log(this.state.people,this.state.adopter)\r\n    \r\n    return (\r\n      <div className='adoption-page-container'>\r\n        {this.state.adopted && <div>You've adopted {this.state.adopted.name}</div>}\r\n        <div className='pets-container'>\r\n          {this.state.cat && <Pet key={1} whichPet={'cat'} handleAdopt={this.handleAdopt} frontOfLine={this.state.frontOfLine} {...this.state.cat}/>}\r\n          {this.state.dog && <Pet key={2} whichPet={'dog'} handleAdopt={this.handleAdopt} frontOfLine={this.state.frontOfLine} {...this.state.dog}/>}\r\n        </div>        \r\n        \r\n        {!this.state.people.includes(this.state.adopter)\r\n        ?\r\n          <form className='adopt-form' onSubmit = {e => this.handleJoinQueue(e)}>\r\n          <legend hidden>Adoption Form</legend>\r\n          <fieldset>\r\n            <div>\r\n              <label id='adopt' name='adopt'>\r\n                Type your name to get in line to adopt a pet\r\n              </label>\r\n            </div>\r\n            <div>\r\n              <input htmlFor='adopt' id='adopt' name='adopt'></input>\r\n            </div>\r\n            <button>Get in Line</button>\r\n          </fieldset>\r\n        </form>\r\n        :<div>\r\n          {`You are number ${this.state.people.findIndex(name => name === this.state.adopter)+1} in line`}\r\n          {/* {this.state.frontOfLine && <div>Approving you to adopt a pet...</div>} */}\r\n          <ol>\r\n            {peopleLine}\r\n          </ol>\r\n        </div>        \r\n        }\r\n      </div>\r\n    )\r\n  }  \r\n}\r\n\r\n\r\nexport default AdoptionPage\r\n","import React from 'react'\r\n\r\nconst Header = () => {\r\n  return (\r\n    <header className='Header'>\r\n      <h1>Get-A-Pet</h1>\r\n    </header>\r\n  )\r\n}\r\n\r\n\r\nexport default Header\r\n","import React from 'react'\r\n\r\nconst LandingPage = (props) => {\r\n  return (\r\n    <div className='landing-Page'>\r\n      <section className = 'app-description'>Every pet deserves a forever home. With Get-A-Pet, you can bring home a fur friend that will bring both of you an endless amount of happiness. </section>\r\n      <section className = 'app-description'>Just get in line and when you get to the front you will be able to choose which pet to bring home with you. Click the button below to get started.</section>\r\n      <img className='landing-image' src={require('../images/dogs.jpg')} alt='cute dogs'></img>\r\n      <button onClick={e => {\r\n        e.preventDefault()\r\n        props.history.push('/adopt')\r\n      }}>Adopt a Pet!</button>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default LandingPage\r\n","export default {\r\n  REACT_APP_API_BASE: process.env.REACT_APP_API_BASE || 'http://localhost:8080/api'\r\n}","import React from 'react'\r\n\r\nconst Pet = (props) => {\r\n  const {age,breed,description,gender,imageURL,name,story,whichPet} = props\r\n  \r\n  return (\r\n    <div className='pet-container'>\r\n      <ul>\r\n        <li>Name: {name}</li>\r\n        <li><img className='pet-image' src = {imageURL} alt = {description}></img></li>\r\n        <li>Age: {age}</li>\r\n        <li>Breed: {breed}</li>\r\n        <li>Description: {description}</li>\r\n        <li>Gender: {gender}</li>                \r\n        <li>Story: {story}</li>\r\n        {props.frontOfLine === true && <button onClick = {() => props.handleAdopt(whichPet)}>Adopt me!</button>}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default Pet\r\n","import React from 'react'\r\nimport {Route, Switch} from 'react-router-dom'\r\nimport Header from './Header'\r\nimport LandingPage from '../routes/LandingPage'\r\nimport AdoptionPage from '../routes/AdoptionPage'\r\n\r\n\r\nclass Root extends React.Component {\r\n  state= {adopted:null}\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header />\r\n        <main>\r\n          <Switch>\r\n            <Route\r\n                  exact\r\n                  path='/'\r\n                  component={props => <LandingPage {...props}/>} />\r\n            <Route\r\n                  exact\r\n                  path='/adopt'\r\n                  component={props => <AdoptionPage handleCongratulations = {this.handleCongratulations} {...props}/>} />            \r\n          </Switch>\r\n        </main>\r\n      </div>\r\n    )\r\n    \r\n  }  \r\n}\r\n\r\nexport default Root\r\n","import './index.css'\r\n\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport Root from './components/Root'\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <BrowserRouter>\r\n    <Root />\r\n  </BrowserRouter>,\r\n  \r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}